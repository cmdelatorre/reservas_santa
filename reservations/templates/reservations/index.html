{% extends "base.html" %}

{% block extrahead %}
  <link
      crossorigin="anonymous"
      href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/fullcalendar.min.css"
      rel="stylesheet">
{% endblock extrahead %}

{% block extra_js %}
  <script
      crossorigin="anonymous"
      src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js">
  </script>
  <script
      crossorigin="anonymous"
      src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/fullcalendar.min.js">
  </script>
  <script
    crossorigin="anonymous"
    src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/locale/es.js">
</script>

  <script>
    $(function() {

      var sourcesFormat = [
        {color: '#7AC143', textColor: 'white'}, {color: '#F3FFBD', textColor: 'black'},
        {color: '#02C39A', textColor: 'black'}, {color: '#E5989B', textColor: 'black'},
        {color: '#028090', textColor: 'black'}, {color: '#00A896', textColor: 'black'},
        {color: '#6D6875', textColor: 'black'}, {color: '#B2DBBF', textColor: 'black'},
        {color: '#F0F3BD', textColor: 'black'}, {color: '#FFCDB2', textColor: 'black'},
        {color: '#FFB4A2', textColor: 'black'}, {color: '#B5838D', textColor: 'black'},
        {color: '#247BA0', textColor: 'black'}, {color: '#FF1654', textColor: 'black'}
      ];  // an arbitrary number of options, hoping they'll be more than the number of rooms

      var eventSources = [
        {
          "end": "2022-04-14",
          "start": "2022-04-14",
          'temp_max': 27.0,
          'temp_min': 13.0
        },
      {% for r in rooms %}
        {  // {{ r.name }}
          url: "{% url 'reservations:events' r.id %}",
          color: sourcesFormat[{{forloop.counter0}}].color,
          textColor: sourcesFormat[{{forloop.counter0}}].textColor
        },
      {% endfor %}];


      $('#calendar').fullCalendar({
        defaultView: 'month',
        firstDay: 1,  // Monday
        eventSources: eventSources,
        eventRender: function(event, element) {
          var helpText = "Habitación reservada por " + event.user + event.temp_max;
          var title = $('<span class="text-muted">'+event.room+" <small>("+event.user+")</small></span>");
          if (event.owned) {
            title = "<strong>"+event.room+"</strong> <small>"+event.user+" <em>(editar reserva)</em></small>";
            helpText = "Reserva propia";
          }

          element.prop("title", helpText);

          element.find(".fc-title").empty().append(title);
        }
      });

      $('[data-toggle="tooltip"]').tooltip()

    });
  </script>
{% endblock extra_js %}



{% block content %}
<div class="row pt-2">
  <div class="col">
    <h1>Generalidades</h1>
    <ul>
      <li>
        <a href="{% url "doc" %}">Sobre la basura</a>
      </li>
      <li>
        <a href="{% url "doc" %}#contribucion">Sobre la contribución</a>
      </li>
    </ul>
  </div>
</div>

<div class="row pt-5">
  <div class="col">
    <div id='calendar'></div>
  </div>
</div>

<div class="row pt-5">
      
      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th id="titulo">&nbsp;</th></tr><tr><th id="maximas">&nbsp;</th></tr><tr><th id="titulo_dia">&nbsp;</th></tr>
          </thead>
          <tbody><tr><td><div id="titulo_ind">&nbsp;</div></td></tr><tr><td id="titulo_fila">Prob. Precipitación</td></tr><tr><td id="titulo_fila">Temperatura (°C)</td></tr><tr><td id="titulo_fila">Viento (km/h)</td></tr><tr><td id="titulo_fila">Dirección Predominante</td></tr><tr><td id="titulo_fila">Ráfagas (km/h)</td></tr>
          </tbody>
        </table>
      </div>

      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th colspan="4" id="titulo">Jueves 14</th></tr><tr><th colspan="4" id="maximas">Temp. Máx 24° | Temp. Mín 5°</th></tr><tr><th id="titulo_dia"><div title="Madrugada">M</div></th><th id="titulo_dia"><div title="Mañana">M</div></th><th id="titulo_dia"><div title="Tarde">T</div></th><th id="titulo_dia"><div title="Noche">N</div></th></tr>
          </thead>
          <tbody><tr><td><div title="">                    </div></td><td><div title="">                    </div></td><td><div title="">                    </div></td><td><div title="Despejado"><img alt="Brand" id="pronos_icono_e0" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/5.png" style="float:center;position:relative" height="45" class="image-responsive"></div></td></tr><tr><td id="campo"></td><td id="campo"></td><td id="campo"></td><td id="campo"><div title="Nula">0%</div></td></tr><tr><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#99CC00">13</td></tr><tr><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF">13 - 22</td></tr><tr><td id="flecha"></td><td id="flecha"></td><td id="flecha"></td><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td></tr><tr><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF"></td><td id="campo" style="background-color:#FFF">-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th colspan="4" id="titulo">Viernes 15</th></tr><tr><th colspan="4" id="maximas">Temp. Máx 22° | Temp. Mín 7°</th></tr><tr><th id="titulo_dia"><div title="Madrugada">M</div></th><th id="titulo_dia"><div title="Mañana">M</div></th><th id="titulo_dia"><div title="Tarde">T</div></th><th id="titulo_dia"><div title="Noche">N</div></th></tr>
          </thead>
          <tbody><tr><td><div title="Despejado"><img alt="Brand" id="pronos_icono_e1" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/5.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Ligeramente nublado"><img alt="Brand" id="pronos_icono_e1" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/13.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e1" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Mayormente nublado"><img alt="Brand" id="pronos_icono_e1" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/38.png" style="float:center;position:relative" height="45" class="image-responsive"></div></td></tr><tr><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Muy Baja">0 - 10%</div></td><td id="campo"><div title="Muy Baja">0 - 10%</div></td></tr><tr><td id="campo" style="background-color:#BDD7EE">7</td><td id="campo" style="background-color:#E5FC08">15</td><td id="campo" style="background-color:#FFD14F">22</td><td id="campo" style="background-color:#E5FC08">17</td></tr><tr><td id="campo" style="background-color:#FFF">13 - 22</td><td id="campo" style="background-color:#FFF">13 - 22</td><td id="campo" style="background-color:#FFF">13 - 22</td><td id="campo" style="background-color:#FFF">13 - 22</td></tr><tr><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td></tr><tr><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th colspan="4" id="titulo">Sábado 16</th></tr><tr><th colspan="4" id="maximas">Temp. Máx 24° | Temp. Mín 10°</th></tr><tr><th id="titulo_dia"><div title="Madrugada">M</div></th><th id="titulo_dia"><div title="Mañana">M</div></th><th id="titulo_dia"><div title="Tarde">T</div></th><th id="titulo_dia"><div title="Noche">N</div></th></tr>
          </thead>
          <tbody><tr><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e2" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/26.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e2" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e2" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e2" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/26.png" style="float:center;position:relative" height="45" class="image-responsive"></div></td></tr><tr><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td></tr><tr><td id="campo" style="background-color:#99CC00">10</td><td id="campo" style="background-color:#99CC00">13</td><td id="campo" style="background-color:#FFD14F">24</td><td id="campo" style="background-color:#99CC00">12</td></tr><tr><td id="campo" style="background-color:#FFF">7 - 12</td><td id="campo" style="background-color:#FFF">7 - 12</td><td id="campo" style="background-color:#FFF">7 - 12</td><td id="campo" style="background-color:#FFF">7 - 12</td></tr><tr><td id="flecha"><div title="NO"><img alt="Brand" id="v_noroeste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-no.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="NE"><img alt="Brand" id="v_norteste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-ne.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="NE"><img alt="Brand" id="v_norteste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-ne.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td></tr><tr><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th colspan="2" id="titulo">Domingo 17</th></tr><tr><th colspan="2" id="maximas">Máx 23° | Mín 9°</th></tr><tr><th id="titulo_dia"><div title="Madrugada/Mañana">M/M</div></th><th id="titulo_dia"><div title="Tarde/Noche">T/N</div></th></tr>
          </thead>
          <tbody><tr><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e3" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e3" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td></tr><tr><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td></tr><tr><td id="campo" style="background-color:#BDD7EE">9</td><td id="campo" style="background-color:#FFD14F">23</td></tr><tr><td id="campo" style="background-color:#FFF">7 - 12</td><td id="campo" style="background-color:#FFF">7 - 12</td></tr><tr><td id="flecha"><div title="NO"><img alt="Brand" id="v_noroeste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-no.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="NE"><img alt="Brand" id="v_norteste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-ne.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td></tr><tr><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th colspan="2" id="titulo">Lunes 18</th></tr><tr><th colspan="2" id="maximas">Máx 25° | Mín 12°</th></tr><tr><th id="titulo_dia"><div title="Madrugada/Mañana">M/M</div></th><th id="titulo_dia"><div title="Tarde/Noche">T/N</div></th></tr>
          </thead>
          <tbody><tr><td><div title="Algo nublado"><img alt="Brand" id="pronos_icono_e4" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/19.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Algo nublado"><img alt="Brand" id="pronos_icono_e4" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/19.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td></tr><tr><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td></tr><tr><td id="campo" style="background-color:#99CC00">12</td><td id="campo" style="background-color:#FFC000">25</td></tr><tr><td id="campo" style="background-color:#FFF">13 - 22</td><td id="campo" style="background-color:#FFF">13 - 22</td></tr><tr><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="N"><img alt="Brand" id="v_norte" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-n.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td></tr><tr><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th colspan="2" id="titulo">Martes 19</th></tr><tr><th colspan="2" id="maximas">Máx 27° | Mín 13°</th></tr><tr><th id="titulo_dia"><div title="Madrugada/Mañana">M/M</div></th><th id="titulo_dia"><div title="Tarde/Noche">T/N</div></th></tr>
          </thead>
          <tbody><tr><td><div title="Algo nublado"><img alt="Brand" id="pronos_icono_e5" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/19.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e5" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td></tr><tr><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td></tr><tr><td id="campo" style="background-color:#99CC00">13</td><td id="campo" style="background-color:#FFC000">27</td></tr><tr><td id="campo" style="background-color:#FFF">7 - 12</td><td id="campo" style="background-color:#FFF">7 - 12</td></tr><tr><td id="flecha"><div title="NO"><img alt="Brand" id="v_noroeste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-no.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="NO"><img alt="Brand" id="v_noroeste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-no.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td></tr><tr><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="col">
        <table id="tabla_ind">
          <thead><tr><th colspan="2" id="titulo">Miércoles 20</th></tr><tr><th colspan="2" id="maximas">Máx 27° | Mín 16°</th></tr><tr><th id="titulo_dia"><div title="Madrugada/Mañana">M/M</div></th><th id="titulo_dia"><div title="Tarde/Noche">T/N</div></th></tr>
          </thead>
          <tbody><tr><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e6" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td><td><div title="Parcialmente nublado"><img alt="Brand" id="pronos_icono_e6" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/25.png" style="float:center;position:relative" height="45" class="image-responsive">                        </div></td></tr><tr><td id="campo"><div title="Nula">0%</div></td><td id="campo"><div title="Nula">0%</div></td></tr><tr><td id="campo" style="background-color:#E5FC08">16</td><td id="campo" style="background-color:#FFC000">27</td></tr><tr><td id="campo" style="background-color:#FFF">7 - 12</td><td id="campo" style="background-color:#FFF">7 - 12</td></tr><tr><td id="flecha"><div title="NO"><img alt="Brand" id="v_noroeste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-no.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td><td id="flecha"><div title="NO"><img alt="Brand" id="v_noroeste" src="https://www.smn.gob.ar/sites/all/themes/smn/img/weather-icons/v-no.png" style="float:center;position:relative" height="15" class="image-responsive"></div></td></tr><tr><td id="campo" style="background-color:#FFF">-</td><td id="campo" style="background-color:#FFF">-</td></tr>
          </tbody>
        </table>
      </div>

</div>

<div class="row pt-5">
  <div class="col">
      <h2>Próximas</h2>
  </div>
</div>

{% include "reservations/reservations_list_snippet.html" with reservations=next %}


{% endblock %}